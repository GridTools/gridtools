@PACKAGE_INIT@

include(CMakeFindDependencyMacro)
find_dependency(Boost @REQUIRED_BOOST_VERSION@)

if (@GT_USE_MPI@)
    find_dependency(MPI COMPONENTS CXX)
endif()

if (@OPENMP_AVAILABLE@)
    find_dependency(OpenMP COMPONENTS CXX)
endif()

include("${CMAKE_CURRENT_LIST_DIR}/gridtools/GridToolsTargets.cmake")

# CUDA workaround
if(${CMAKE_CUDA_COMPILER_LOADED})
    if (${CMAKE_CUDA_COMPILER_VERSION} VERSION_GREATER_EQUAL "9.2" AND ${CMAKE_CUDA_COMPILER_VERSION} VERSION_LESS "10.1")
        target_compile_definitions(GridTools INTERFACE BOOST_OPTIONAL_CONFIG_USE_OLD_IMPLEMENTATION_OF_OPTIONAL)
        target_compile_definitions(GridTools INTERFACE BOOST_OPTIONAL_USE_OLD_DEFINITION_OF_NONE)
    endif()
endif()

target_compile_definitions(gridtools::GridTools INTERFACE STRUCTURED_GRIDS)

check_required_components(gridtools)
